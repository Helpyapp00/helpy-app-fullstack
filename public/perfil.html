<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil - Helpy</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Link para o CSS principal (do Feed) -->
    <link rel="stylesheet" href="/style.css"> 
    
    <!-- Link para o CSS espec√≠fico do Perfil -->
    <link rel="stylesheet" href="/perfil.css">
</head>
<body>

    <!-- Header unificado (vem do style.css) -->
    <header>
        <div class="logo-box">
            <!-- Usando a logo correta para a p√°gina de perfil -->
            <img src="imagens/helpy-perfil.png" alt="Logo Helpy"> 
            <h1>Helpy</h1>
        </div>
        
        <div class="user-info">
            <img id="user-avatar-header" src="imagens/default-user.png" alt="Avatar do Usu√°rio" class="user-avatar-header">
            <span id="user-name-header">Carregando...</span>
            
            <!-- üõë CORRE√á√ÉO: Bot√£o "Feed" com √≠cone e ID -->
            <button id="feed-button" title="Ir para o Feed">
                <i class="fas fa-home"></i>
            </button>
            
            <!-- üõë CORRE√á√ÉO: Bot√£o "Sair" com ID -->
            <button id="logout-button">Sair</button>
        </div>
    </header>

    <!-- Conte√∫do do Perfil (o .perfil-css vai centralizar isso) -->
    <div class="content-perfil">
        <div class="perfil-card">
            <!-- Header do Card -->
            <div class="perfil-header">
                <img id="fotoPerfil" class="perfil-img" src="imagens/default-user.png" alt="Foto do Perfil">
                
                <label id="labelInputFotoPerfil" class="label-input-foto oculto">
                    <i class="fas fa-camera"></i> Alterar Foto
                    <input type="file" id="inputFotoPerfil" accept="image/*">
                </label>

                <h2 id="nomePerfil">Carregando...</h2>
                <input type="text" id="inputNome" class="input-edicao oculto" placeholder="Nome Completo">
                
                <div id="media-avaliacao-container">
                    <span id="mediaEstrelas" class="media-avaliacao"></span>
                    <span id="totalAvaliacoes" class="total-avaliacoes"></span>
                </div>
            </div>
            
            <!-- Corpo do Card -->
            <div class="perfil-body">
                <h3>Informa√ß√µes Pessoais</h3>
                <ul class="perfil-info">
                    <li>
                        <i class="fas fa-envelope"></i>
                        <a id="emailPerfil" href="#">Carregando...</a>
                        <input type="email" id="inputEmail" class="input-edicao oculto" placeholder="Email (n√£o pode ser alterado)" disabled>
                    </li>
                    <li>
                        <i class="fas fa-calendar-alt"></i>
                        <span id="idadePerfil">Carregando...</span>
                        <input type="number" id="inputIdade" class="input-edicao oculto" placeholder="Idade (anos)">
                    </li>
                    <li>
                        <i class="fas fa-map-marker-alt"></i>
                        <span id="cidadePerfil">Carregando...</span>
                        <input type="text" id="inputCidade" class="input-edicao oculto" placeholder="Cidade">
                    </li>
                    <li>
                        <i class="fas fa-phone"></i>
                        <a id="telefonePerfil" href="#">Carregando...</a>
                        <input type="tel" id="inputWhatsapp" class="input-edicao oculto" placeholder="Telefone / WhatsApp">
                    </li>
                    <li id="atuacao-item">
                        <i class="fas fa-briefcase"></i>
                        <span id="atuacaoPerfil">Carregando...</span>
                        <input type="text" id="inputAtuacao" class="input-edicao oculto" placeholder="√Årea de Atua√ß√£o">
                    </li>
                </ul>
                
                <div class="perfil-descricao">
                    <h4>Descri√ß√£o:</h4>
                    <p id="descricaoPerfil">Carregando...</p>
                    <textarea id="inputDescricao" class="input-edicao oculto" placeholder="Sua descri√ß√£o..."></textarea>
                </div>
            </div>

            <!-- Footer do Card (Bot√µes) -->
            <div class="perfil-footer">
                <button id="editarPerfilBtn" class="edit-btn">Editar Perfil</button>
                <div class="botoes-edicao oculto">
                    <button id="btnSalvarPerfil" class="salvar-btn">Salvar</button>
                    <button id="btnCancelarEdicao" class="cancelar-btn">Cancelar</button>
                </div>
            </div>
        </div>
        
        <!-- Abas de Navega√ß√£o (Servi√ßos/Postagens) -->
        <div class="perfil-acoes">
            <button id="mostrarServicosBtn" class="perfil-btn ativo">Servi√ßos</button>
            <button id="mostrarPostagensBtn" class="perfil-btn">Postagens</button>
        </div>

        <!-- Se√ß√£o de Servi√ßos -->
        <div id="secao-servicos" class="secao-perfil ativa">
            <div class="servicos-header">
                <h3>Minha Galeria de Servi√ßos</h3>
                <button id="addServicoBtn" class="add-btn"><i class="fas fa-plus"></i> Adicionar Servi√ßo</button>
                <input type="file" id="inputFotoServico" multiple accept="image/*" style="display: none;">
            </div>
            <div id="galeriaServicos" class="galeria-servicos">
                <!-- Servi√ßos ser√£o renderizados aqui pelo JS -->
            </div>
        </div>
        
        <!-- Se√ß√£o de Postagens -->
        <div id="secao-postagens" class="secao-perfil">
            <h3>Minhas Postagens</h3>
            <div id="minhasPostagens" class="minhas-postagens">
                <!-- Postagens ser√£o renderizadas aqui pelo JS -->
            </div>
        </div>
        
        <!-- Se√ß√£o de Avalia√ß√£o -->
        <div id="secao-avaliacao" class="secao-perfil" style="display: none;">
             <h3>Deixe sua Avalia√ß√£o</h3>
             <form id="formAvaliacao">
                <div class="estrelas" data-value="0">
                    <span data-value="1"><i class="far fa-star"></i></span>
                    <span data-value="2"><i class="far fa-star"></i></span>
                    <span data-value="3"><i class="far fa-star"></i></span>
                    <span data-value="4"><i class="far fa-star"></i></span>
                    <span data-value="5"><i class="far fa-star"></i></span>
                </div>
                <span id="notaSelecionada"></span>
                <textarea id="comentarioAvaliacaoInput" placeholder="Escreva um coment√°rio (opcional)..."></textarea>
                <button type="submit" id="btnEnviarAvaliacao" class="salvar-btn">Enviar Avalia√ß√£o</button>
             </form>
        </div>
    </div>
    
    <!-- Modal para Visualiza√ß√£o de Imagem -->
    <div id="image-modal" class="image-modal-overlay">
        <span class="close-btn-modal" id="close-image-modal">&times;</span>
        <img class="image-modal-content" id="modal-image">
         <div id="modal-info-area" style="display: none;">
            <h3 id="servico-titulo-modal"></h3>
            <p id="servico-descricao-modal"></p>
            <div id="avaliacoes-lista-modal"></div>
        </div>
    </div>

    <!-- Modal de Confirma√ß√£o de Logout (vem do style.css) -->
    <div id="logout-confirm-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3>Tem certeza que deseja sair?</h3>
            <div class="modal-buttons">
                <button id="confirm-logout-yes" class="btn-confirm-yes">Sim</button>
                <button id="confirm-logout-no" class="btn-confirm-no">N√£o</button>
            </div>
        </div>
    </div>
    
    <script src="/perfil.js"></script>
</body>
</html>

