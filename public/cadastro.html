<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Helpy</title>
    <link rel="icon" href="icons/helpy.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/>
    <link rel="stylesheet" href="/style.css"> <!-- Usando style.css base -->
    <link rel="stylesheet" href="/cadastro.css">
</head>
<body>
  <div class="container-cadastro">
    <div class="header-content">
      <img src="imagens/helpy-cadastro.png" alt="Logo Helpy Cadastro" class="header-logo">
      <h1>Crie seu perfil no Helpy</h1>
    </div>
    <div id="form-message" class="form-message hidden"></div>

    <!-- üÜï NOVO: Etapa 1 - Verifica√ß√£o de Email -->
    <div id="etapa-verificacao-email" class="etapa-cadastro">
      <h2 style="text-align: center; margin-bottom: 20px;">Verifica√ß√£o de Email</h2>
      <p style="text-align: center; color: #666; margin-bottom: 30px;">
        Primeiro, precisamos verificar seu email. Enviaremos um c√≥digo de verifica√ß√£o.
      </p>
      <div class="form-row">
        <div class="form-group full-width">
          <label for="email-verificacao">Email</label>
          <input type="email" id="email-verificacao" name="email-verificacao" required placeholder="seu@email.com">
        </div>
      </div>
      <button type="button" id="btn-solicitar-codigo" class="btn-submit-cadastro">Enviar C√≥digo de Verifica√ß√£o</button>
    </div>

    <!-- üÜï NOVO: Etapa 2 - Validar C√≥digo -->
    <div id="etapa-validar-codigo" class="etapa-cadastro" style="display: none;">
      <h2 style="text-align: center; margin-bottom: 20px;">Validar C√≥digo</h2>
      <p style="text-align: center; color: #666; margin-bottom: 30px;">
        Digite o c√≥digo de 6 d√≠gitos que enviamos para <strong id="email-exibido"></strong>
      </p>
      <div class="form-row">
        <div class="form-group full-width">
          <label for="codigo-verificacao">C√≥digo de Verifica√ß√£o</label>
          <input type="text" id="codigo-verificacao" name="codigo-verificacao" required placeholder="000000" maxlength="6" pattern="[0-9]{6}">
        </div>
      </div>
      <div style="display: flex; gap: 10px; justify-content: center;">
        <button type="button" id="btn-voltar-email" class="btn-submit-cadastro" style="background-color: #666;">Voltar</button>
        <button type="button" id="btn-validar-codigo" class="btn-submit-cadastro">Validar C√≥digo</button>
      </div>
      <p style="text-align: center; margin-top: 15px;">
        <a href="#" id="link-reenviar-codigo" style="color: #4CAF50; text-decoration: none;">Reenviar c√≥digo</a>
      </p>
    </div>

    <!-- üÜï NOVO: Etapa 3 - Dados do Cadastro -->
    <form id="form-cadastro" style="display: none;">
      <div class="form-row">
        <div class="form-group full-width">
          <label for="nome">Nome completo</label>
          <input type="text" id="nome" name="nome" required>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group photo-upload-group full-width"> <label for="foto">Foto de perfil</label>
          <input type="file" id="foto" name="fotoPerfil" accept="image/*">
          <div class="foto-preview-container">
            <img id="foto-preview" src="imagens/default-user.png" alt="Pr√©-visualiza√ß√£o da foto de perfil">
            <div class="foto-mask"></div>
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="idade">Idade</label>
          <input type="number" id="idade" name="idade" min="18" required>
        </div>
        <!-- üõë ATUALIZA√á√ÉO: Campos de localiza√ß√£o separados -->
        <div class="form-group">
          <label for="cidade">Cidade</label>
          <input type="text" id="cidade" name="cidade" required placeholder="Ex: Juiz de Fora">
        </div>
      </div>
      <div class="form-row">
         <div class="form-group">
          <label for="estado">Estado (Sigla)</label>
          <input type="text" id="estado" name="estado" required placeholder="Ex: MG" maxlength="2">
        </div>
        <!-- Fim da Atualiza√ß√£o -->

        <div class="form-group">
          <label for="tipo">Voc√™ √©:</label>
          <select id="tipo" name="tipo">
            <option value="trabalhador">Prestador de servi√ßo</option>
            <option value="cliente">Cliente</option>
          </select>
        </div>
      </div>
      
      <div class="form-row">
        <div id="atuacao-group" class="form-group">
          <label for="atuacao">√Årea de atua√ß√£o</label>
          <input type="text" id="atuacao" name="atuacao" placeholder="Ex: Eletricista">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="telefone">Telefone / WhatsApp</label>
          <input type="tel" id="telefone" name="telefone" placeholder="(XX) XXXXX-XXXX">
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" name="email" readonly style="background-color: #f0f0f0;">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="senha">Senha</label>
          <input type="password" id="senha" name="senha" required>
        </div>
        <div class="form-group">
          <label for="confirmar-senha">Confirmar Senha</label>
          <input type="password" id="confirmar-senha" name="confirmar_senha" required>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="tema">Tema Preferido</label>
          <select id="tema" name="tema" required>
            <option value="light">Claro</option>
            <option value="dark">Escuro</option>
          </select>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group full-width">
          <label for="descricao">Descri√ß√£o</label>
          <textarea id="descricao" name="descricao" placeholder="Fale um pouco sobre voc√™..."></textarea>
        </div>
      </div>

      <button type="submit" class="btn-submit-cadastro">Finalizar Cadastro</button>
    </form>
      <div class="link-login">
          J√° tem uma conta? <a href="login.html">Fa√ßa login aqui</a>
      </div>
  </div>
  <script src="/cadastro.js"></script>
</body>
</html>

